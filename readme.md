MrFindHotelBot v1.0

Данный проект это бот на python, который осуществляет поиск отелей на сайте hotels.com с помошью api rapidapi.com.




Руководство использования бота




Бот содержит следующие команды:

/start - выводит приветственное сообщение

/help - выводит данные по досупным командам

/lowprice - выводит список отелей от дешевых к дорогим по выбранным параметрам

/highprice - выводит список отелей от дорогих к дешевым по выбранным параметрам

/bestdeal - выводит список отелей не далее указанного расстояния и не более указанной цены

/history - выводит историю запросов пользователя



Общий алгоритм для команд lowprice, highprice, bestdeal:

1. Пользователь вводит команду поиска отеля
2. Пользователь вводит название города
3. Бот выводит кнопки с найденными совпадениями по городам
4. Пользователь выбирает город
5. Бот выводит календарь для выбора даты заезда
6. Пользователь выбирает дату
7. Бот выводит календарь для выбора даты выезда
8. Пользователь выбирает дату
9. Если комада bestdeal, то бот запрашивает дистанцию от центра, если выбрана команда lowprice или highprice бот переходит к пункту 13
10. Пользователь вводит дистанцию
11. Бот запрашивает максимальную стоимость за период
12. Пользователь вводит сумму в рублях
13. Бот запрашивает количество выводимых отелей, не более определенного максимума
14. Бот выводит отели, не более указанного количества, и под каждым отелем кнопку для показа фотографий данного отеля
15. При нажатии на кнопку показа фотографий, бот запрашивает сколько фотографий показать, не более определенного максимума
16. Пользователь указывает количество фотографий
17. Бот выводит фотографии, не более указанного количества

Алгоритм действий для команды history:
1. Пользователь вводит команду
2. Бот запрашивает, сколько результатов вывести, не более определенного максимума
3. Пользователь вводит ожидаемое количество результатов
4. Бот выводит историю, не более указанного количества запросов



Руководство использования скрипта

Скрипт состоит из следующих файлов:

main.py - содержит хэндлеры, улавливающие ответы от бота, направляет их в handlers.py
loader.py - инициализирует все необходимые инстансы, а также загружает ключи от бота и rapidapi
database.py - содержит классы таблиц
rapidapi.py - содерит класс, осуществляющий запросы к rapidapi
handlers.py - содержит алгоритм действия бота
.env - содержит ключи от бота и rapidapi
.env.template - шаблон для создания .env
requirements.txt - список необходимых библиотек

В .env нужно указать свои ключи от бота и rapidapi.
В loader.py можно изменить максимумы вывыода для отелей, фотографий и истории

